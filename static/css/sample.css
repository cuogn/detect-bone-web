:root {
  --bg: #0b1120;
  --fg: #e2e8f0;
  --panel: rgba(30, 41, 59, 0.7);
  --panel-border: rgba(255, 255, 255, 0.1);
  --c900: #0f172a;
  --c800: #1e293b;
  --c700: #334155;
  --c500: #06b6d4;
  --c400: #22d3ee;
}

/* Theme palettes (12 lựa chọn) */
[data-theme="blue"] {
  --bg: #0b1120;
  --fg: #e2e8f0;
  --panel: rgba(30, 41, 59, 0.7);
  --panel-border: rgba(255, 255, 255, 0.1);
  --c900: #0f172a;
  --c800: #1e293b;
  --c700: #334155;
  --c500: #06b6d4;
  --c400: #22d3ee;
}
[data-theme="cyan"] {
  --bg: #0b1924;
  --fg: #e6f8fb;
  --panel: rgba(15, 43, 58, 0.7);
  --panel-border: rgba(230, 248, 251, 0.12);
  --c900: #0a192f;
  --c800: #0f2b3a;
  --c700: #15475c;
  --c500: #06b6d4;
  --c400: #67e8f9;
}
[data-theme="teal"] {
  --bg: #0c1918;
  --fg: #e6faf7;
  --panel: rgba(17, 51, 47, 0.7);
  --panel-border: rgba(230, 250, 247, 0.12);
  --c900: #0f1f1f;
  --c800: #11332f;
  --c700: #134e4a;
  --c500: #0d9488;
  --c400: #2dd4bf;
}
[data-theme="emerald"] {
  --bg: #0b1c14;
  --fg: #e6fbf3;
  --panel: rgba(15, 47, 33, 0.7);
  --panel-border: rgba(230, 251, 243, 0.12);
  --c900: #0b1c14;
  --c800: #0f2f21;
  --c700: #14532d;
  --c500: #10b981;
  --c400: #34d399;
}
[data-theme="green"] {
  --bg: #0d1a0f;
  --fg: #e8fcef;
  --panel: rgba(19, 51, 26, 0.7);
  --panel-border: rgba(232, 252, 239, 0.12);
  --c900: #0d1a0f;
  --c800: #13331a;
  --c700: #166534;
  --c500: #22c55e;
  --c400: #4ade80;
}
[data-theme="lime"] {
  --bg: #111703;
  --fg: #f3fde5;
  --panel: rgba(27, 42, 4, 0.72);
  --panel-border: rgba(243, 253, 229, 0.14);
  --c900: #111703;
  --c800: #1b2a04;
  --c700: #3f6212;
  --c500: #84cc16;
  --c400: #a3e635;
}
[data-theme="amber"] {
  --bg: #1a1404;
  --fg: #fff7e6;
  --panel: rgba(43, 31, 5, 0.72);
  --panel-border: rgba(255, 247, 230, 0.14);
  --c900: #1a1404;
  --c800: #2b1f05;
  --c700: #92400e;
  --c500: #f59e0b;
  --c400: #fbbf24;
}
[data-theme="orange"] {
  --bg: #1c0f07;
  --fg: #fff5ed;
  --panel: rgba(47, 26, 10, 0.72);
  --panel-border: rgba(255, 245, 237, 0.14);
  --c900: #1c0f07;
  --c800: #2f1a0a;
  --c700: #9a3412;
  --c500: #f97316;
  --c400: #fb923c;
}
[data-theme="red"] {
  --bg: #1a0b0b;
  --fg: #ffecec;
  --panel: rgba(44, 15, 15, 0.72);
  --panel-border: rgba(255, 236, 236, 0.14);
  --c900: #1a0b0b;
  --c800: #2c0f0f;
  --c700: #7f1d1d;
  --c500: #ef4444;
  --c400: #f87171;
}
[data-theme="pink"] {
  --bg: #1a0c14;
  --fg: #ffe7f2;
  --panel: rgba(44, 16, 32, 0.72);
  --panel-border: rgba(255, 231, 242, 0.14);
  --c900: #1a0c14;
  --c800: #2c1020;
  --c700: #9d174d;
  --c500: #ec4899;
  --c400: #f472b6;
}
[data-theme="purple"] {
  --bg: #170b1f;
  --fg: #f3e9ff;
  --panel: rgba(38, 17, 52, 0.72);
  --panel-border: rgba(243, 233, 255, 0.14);
  --c900: #170b1f;
  --c800: #261134;
  --c700: #5b21b6;
  --c500: #8b5cf6;
  --c400: #a78bfa;
}
[data-theme="indigo"] {
  --bg: #0f1024;
  --fg: #e8ebff;
  --panel: rgba(26, 28, 63, 0.72);
  --panel-border: rgba(232, 235, 255, 0.14);
  --c900: #0f1024;
  --c800: #1a1c3f;
  --c700: #312e81;
  --c500: #6366f1;
  --c400: #818cf8;
}
[data-theme="white"] {
  --bg: #f8fafc;
  --fg: #0f172a;
  --panel: rgba(255, 255, 255, 0.85);
  --panel-border: rgba(15, 23, 42, 0.08);
  --c900: #e2e8f0;
  --c800: #e5e7eb;
  --c700: #e7e9ef;
  --c500: #3b82f6;
  --c400: #60a5fa;
}

body {
  background-color: var(--bg);
  color: var(--fg);
}

.bg-grid {
  background-size: 40px 40px;
  mask-image: linear-gradient(
    to bottom,
    transparent,
    10%,
    black,
    90%,
    transparent
  );
}

/* Scanner Effect */
.scan-container {
  position: relative;
  overflow: hidden;
}

.scan-beam {
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  background: linear-gradient(
    to bottom,
    transparent,
    rgba(34, 211, 238, 0.2),
    transparent
  );
  transform: translateY(-100%);
  animation: scanMove 2s cubic-bezier(0.4, 0, 0.2, 1) infinite;
  border-bottom: 2px solid #22d3ee;
  box-shadow: 0 0 15px rgba(34, 211, 238, 0.5);
  display: none;
}

.scanning .scan-beam {
  display: block;
}

@keyframes scanMove {
  0% {
    transform: translateY(-100%);
  }
  100% {
    transform: translateY(100%);
  }
}

/* Glass Panel */
.glass-panel {
  background: var(--panel);
  backdrop-filter: blur(12px);
  border: 1px solid var(--panel-border);
  color: color-mix(in srgb, var(--fg) 94%, #ffffff 6%);
}

/* Improve contrast for text blocks inside panels */
.glass-panel h1,
.glass-panel h2,
.glass-panel h3,
.glass-panel h4,
.glass-panel h5,
.glass-panel h6 {
  color: color-mix(in srgb, #ffffff 98%, #ffffff 2%);
}

.glass-panel p,
.glass-panel li,
.glass-panel span,
.glass-panel small {
  color: color-mix(in srgb, #ffffff 88%, #ffffff 12%);
}

/* Light theme: slightly darker panel so text stands out */
[data-theme="white"] .glass-panel {
  background: color-mix(in srgb, rgba(15, 23, 42, 0.18) 45%, #ffffff 55%);
  border-color: rgba(15, 23, 42, 0.14);
  box-shadow: 0 10px 32px rgba(15, 23, 42, 0.08);
}

[data-theme="white"] .glass-panel h1,
[data-theme="white"] .glass-panel h2,
/* [data-theme="white"] .glass-panel h3, */
[data-theme="white"] .glass-panel h4,
[data-theme="white"] .glass-panel h5,
[data-theme="white"] .glass-panel h6 {
  color: #0f172a;
}

/* [data-theme="white"] .glass-panel p, */
[data-theme="white"] .glass-panel li,
[data-theme="white"] .glass-panel span,
[data-theme="white"] .glass-panel small {
  color: #1f2937;
}

/* Hide Scrollbar for clean UI */
::-webkit-scrollbar {
  width: 8px;
}

::-webkit-scrollbar-track {
  background: #0f172a;
}

::-webkit-scrollbar-thumb {
  background: #334155;
  border-radius: 4px;
}

::-webkit-scrollbar-thumb:hover {
  background: #475569;
}

/* Override utility colors để dùng biến theme */
.bg-medical-900 {
  background-color: var(--c900) !important;
}
.bg-medical-800 {
  background-color: var(--c800) !important;
}
.bg-medical-700 {
  background-color: var(--c700) !important;
}
.bg-medical-500 {
  background-color: var(--c500) !important;
}
.bg-medical-400 {
  background-color: var(--c400) !important;
}
.text-medical-400 {
  color: var(--c400) !important;
}
.text-medical-500 {
  color: var(--c500) !important;
}
.border-medical-500 {
  border-color: var(--c500) !important;
}
.border-medical-400 {
  border-color: var(--c400) !important;
}
.from-medical-400 {
  --tw-gradient-from: var(--c400) !important;
  --tw-gradient-stops: var(--tw-gradient-from),
    var(--tw-gradient-to, rgb(255 255 255 / 0));
}
.to-medical-500 {
  --tw-gradient-to: var(--c500) !important;
}

/* Light theme overrides for common slate/background/text utilities */
/* Theme-wide overrides for backgrounds, text, borders, shadows */
[data-theme] .bg-black,
[data-theme] .bg-slate-900,
[data-theme] .bg-slate-900\/50,
[data-theme] .bg-slate-900\/60 {
  background-color: var(--bg) !important;
  color: var(--fg) !important;
}
[data-theme] .bg-slate-800,
[data-theme] .bg-slate-800\/50,
[data-theme] .bg-slate-800\/40,
[data-theme] .bg-slate-800\/30 {
  background-color: color-mix(in srgb, var(--bg) 72%, #0f172a 28%) !important;
  color: var(--fg) !important;
}
[data-theme] .bg-slate-700,
[data-theme] .bg-slate-700\/50 {
  background-color: color-mix(in srgb, var(--bg) 85%, #1f2937 15%) !important;
  color: var(--fg) !important;
}
[data-theme] .text-white {
  color: var(--fg) !important;
}
[data-theme] .text-slate-200 {
  color: color-mix(in srgb, var(--fg) 92%, #e2e8f0 8%) !important;
}
[data-theme] .text-slate-300 {
  color: color-mix(in srgb, var(--fg) 88%, #cbd5e1 12%) !important;
}
[data-theme] .text-slate-400 {
  color: color-mix(in srgb, var(--fg) 80%, #94a3b8 20%) !important;
}
[data-theme] .text-slate-500 {
  color: color-mix(in srgb, var(--fg) 70%, #64748b 30%) !important;
}
[data-theme] .text-slate-600 {
  color: color-mix(in srgb, var(--fg) 60%, #475569 40%) !important;
}
[data-theme] .border-white\/5 {
  border-color: color-mix(in srgb, var(--fg) 6%, transparent) !important;
}
[data-theme] .border-white\/10 {
  border-color: color-mix(in srgb, var(--fg) 12%, transparent) !important;
}
[data-theme] .border-slate-700 {
  border-color: color-mix(in srgb, var(--fg) 18%, transparent) !important;
}
[data-theme] .shadow,
[data-theme] .shadow-lg {
  box-shadow: 0 8px 24px color-mix(in srgb, var(--fg) 12%, transparent) !important;
}

.nav-pill {
  transition: background-color 160ms ease, color 160ms ease,
    box-shadow 180ms ease;
  color: color-mix(in srgb, var(--fg) 90%, #0b1120 10%);
  background-color: transparent;
  border: 1px solid transparent;
}

.nav-pill.nav-active {
  background-color: color-mix(in srgb, var(--c500) 18%, var(--bg) 82%);
  color: var(--fg);
  border-color: color-mix(in srgb, var(--c500) 45%, transparent);
  box-shadow: 0 8px 18px color-mix(in srgb, var(--c500) 22%, transparent);
}

[data-theme="white"] .nav-pill.nav-active {
  background-color: color-mix(in srgb, var(--c500) 18%, #ffffff 82%);
  color: #0f172a;
  border-color: color-mix(in srgb, var(--c500) 35%, #0f172a 10%);
  box-shadow: 0 8px 18px rgba(15, 23, 42, 0.1);
}

[data-theme="white"] .nav-pill {
  color: #1f2937;
  background-color: rgba(15, 23, 42, 0.04);
  border-color: rgba(15, 23, 42, 0.08);
}

[data-theme="white"] .nav-pill:hover {
  background-color: rgba(15, 23, 42, 0.08);
  color: #0f172a;
}

.nav-pill:hover {
  color: var(--fg);
}

/* Improve contrast for recommendation panel in dark themes */
[data-theme]:not([data-theme="white"]) #rec-details,
[data-theme]:not([data-theme="white"]) #res-rec {
  color: #e2e8f0;
}

[data-theme]:not([data-theme="white"]) .bg-blue-900\/20 {
  background-color: rgba(30, 41, 59, 0.5) !important;
  border-color: rgba(148, 163, 184, 0.25) !important;
}

[data-theme]:not([data-theme="white"]) #rec-details {
  background-color: rgba(15, 23, 42, 0.7) !important;
  border-color: rgba(94, 234, 212, 0.25) !important;
}

/* ---- Simple reveal animations ---- */
.will-animate {
  opacity: 0;
  transform: translateY(16px);
  transition: opacity 0.6s ease, transform 0.6s ease;
}

.will-animate.preset-fade {
  transform: none;
}

.will-animate.preset-zoom {
  transform: scale(0.98);
}

.animate-in {
  opacity: 1;
  transform: translateY(0) scale(1);
}

/* ---- Micro interactions ---- */
.btn-hover-lift {
  transition: transform 180ms ease, box-shadow 180ms ease;
}

.btn-hover-lift:hover {
  transform: translateY(-2px);
  box-shadow: 0 10px 30px rgba(34, 211, 238, 0.25);
}
